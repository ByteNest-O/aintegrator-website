// ==========================================================================
// Mixins
// ==========================================================================

@use 'variables' as *;

// Responsive breakpoints
@mixin breakpoint-up($bp) {
    @if $bp ==xs {
        @media (min-width: $breakpoint-xs) {
            @content;
        }
    }

    @else if $bp ==sm {
        @media (min-width: $breakpoint-sm) {
            @content;
        }
    }

    @else if $bp ==md {
        @media (min-width: $breakpoint-md) {
            @content;
        }
    }

    @else if $bp ==lg {
        @media (min-width: $breakpoint-lg) {
            @content;
        }
    }

    @else if $bp ==xl {
        @media (min-width: $breakpoint-xl) {
            @content;
        }
    }

    @else if $bp ==2xl {
        @media (min-width: $breakpoint-2xl) {
            @content;
        }
    }

    @else if $bp ==3xl {
        @media (min-width: $breakpoint-3xl) {
            @content;
        }
    }
}

@mixin breakpoint-down($bp) {
    @if $bp ==xs {
        @media (max-width: calc($breakpoint-xs - 1px)) {
            @content;
        }
    }

    @else if $bp ==sm {
        @media (max-width: calc($breakpoint-sm - 1px)) {
            @content;
        }
    }

    @else if $bp ==md {
        @media (max-width: calc($breakpoint-md - 1px)) {
            @content;
        }
    }

    @else if $bp ==lg {
        @media (max-width: calc($breakpoint-lg - 1px)) {
            @content;
        }
    }

    @else if $bp ==xl {
        @media (max-width: calc($breakpoint-xl - 1px)) {
            @content;
        }
    }

    @else if $bp ==2xl {
        @media (max-width: calc($breakpoint-2xl - 1px)) {
            @content;
        }
    }
}

// ===========================
// Layout — Site Container
// ===========================
// Reusable container: max-width 1144px, centered, responsive padding
@mixin site-container {
    width: 100%;
    max-width: $container-max-width;
    margin-left: auto;
    margin-right: auto;
    padding-left: $spacing-6; // 1.5rem (24px) default
    padding-right: $spacing-6;

    @include breakpoint-up(lg) {
        padding-left: $spacing-8; // 2rem (32px) on large
        padding-right: $spacing-8;
    }

    @include breakpoint-up(2xl) {
        padding-left: 0; // At 1440px+ viewport, margins handle centering
        padding-right: 0;
    }
}

// Section spacing — primary (196px between major sections)
@mixin section-spacing {
    padding-top: $spacing-20; // 80px fallback for smaller screens
    padding-bottom: $spacing-20;

    @include breakpoint-up(xl) {
        padding-top: $section-gap;
        padding-bottom: $section-gap;
    }
}

// Block spacing — secondary (148px between content blocks)
@mixin block-spacing {
    padding-top: $spacing-16; // 64px fallback for smaller screens
    padding-bottom: $spacing-16;

    @include breakpoint-up(xl) {
        padding-top: $block-gap;
        padding-bottom: $block-gap;
    }
}

// Typography
@mixin heading($size, $weight: $font-weight-bold, $line-height: $line-height-tight) {
    font-family: $font-family-sans;
    font-size: $size;
    font-weight: $weight;
    line-height: $line-height;
}

@mixin body-text($size: $font-size-base, $weight: $font-weight-normal) {
    font-family: $font-family-sans;
    font-size: $size;
    font-weight: $weight;
    line-height: $line-height-normal;
}

// Layout helpers
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

// Accessibility
@mixin visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

@mixin focus-ring {
    outline: 2px solid $color-accent;
    outline-offset: 2px;
}

// Transitions
@mixin transition($properties: all, $duration: $transition-normal) {
    transition: $properties $duration;
}

// Truncation
@mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}